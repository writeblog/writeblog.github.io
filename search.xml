<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>photo-map:一款Web站点的地图相册</title>
      <link href="/2019/06/09/photo-map/"/>
      <url>/2019/06/09/photo-map/</url>
      
        <content type="html"><![CDATA[<p><img src="https://imgkr.cn-bj.ufileos.com/27d939c7-c90f-42cb-9ff2-2a3eef64b41d.png" alt=""></p><a id="more"></a><p><img src="https://imgkr.cn-bj.ufileos.com/0575977b-fc6e-4bdf-bb69-66f3cb224960.png" alt=""><br><img src="https://imgkr.cn-bj.ufileos.com/cf1b1463-e9a1-4923-b3f7-69e66b513a15.png" alt=""><br><a href="https://github.com/JIAOBANTANG/photo-map" target="_blank" rel="noopener">github</a><br><a href="https://photo.treelo.xin/" target="_blank" rel="noopener">运行站点</a></p><p>我想的是记录一些日子，一些足迹<br>我是一颗蒲公英，在飘着，落脚扎根。<br>在这里渲染一个点，星星满满。<br>总有一天，想去都去，该看都看。<br>我记录着，我扩散着,<br>能留下一点，在创造一点.<br>…<br>你好 陌生人<br>这一刻，不为别的，你来都来了，看都看了，你也可以去部署啊，部署后也传播给你的朋友，能贡献代码那就更感谢你了。<br>希望你生活快乐<br>◕‿-</p><p>感谢<br><a href="https://github.com/Leaflet/Leaflet" target="_blank" rel="noopener">Leaflet</a>用于基础地图交互<br><a href="https://github.com/turban/Leaflet.Photo" target="_blank" rel="noopener">Leaflet.Photo</a>用于渲染图片位置<br><a href="https://github.com/htoooth/Leaflet.ChineseTmsProviders" target="_blank" rel="noopener">Leaflet.ChineseTmsProviders</a>用于各种地图样式<br><a href="https://www.layui.com/" target="_blank" rel="noopener">layui</a>用于前端交互<br><a href="https://github.com/fengyuanchen/viewerjs/" target="_blank" rel="noopener">viewerjs</a>用于查看图片<br><a href="https://www.amap.com/" target="_blank" rel="noopener">高德地图</a>用于获取位置信息<br><a href="https://github.com/Vectorface/GoogleAuthenticator" target="_blank" rel="noopener">googleauthenticator</a>用于谷歌身份验证器验证<br><a href="https://github.com/rosell-dk/webp-convert" target="_blank" rel="noopener">webp-convert</a>用于压缩图为webp格式</p><p>建议留给留言区</p>]]></content>
      
      
      <categories>
          
          <category> Coding </category>
          
          <category> Web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 地图相册 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo博客Material-X主题个性化</title>
      <link href="/2019/05/12/themes-custom/"/>
      <url>/2019/05/12/themes-custom/</url>
      
        <content type="html"><![CDATA[<p>Hexo博客Material-X主题个性化</p><a id="more"></a><h2 id="文章列表扭七扭八"><a href="#文章列表扭七扭八" class="headerlink" title="文章列表扭七扭八"></a>文章列表扭七扭八</h2><ol><li>在主题目录下/ayout/_partial/post.ejs里添加class=’banner’<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;article <span class="class"><span class="keyword">class</span></span>=<span class="string">"post reveal banner&lt;%= (post.title) ? "</span><span class="string">" : "</span>no-title<span class="string">" %&gt;"</span>&gt;</span><br></pre></td></tr></table></figure></li><li>在主题目录/layout/_partial/footer.ejs里引入js文件<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span> src=<span class="string">"/cool/banner.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h2 id="添加抖动元素-块级"><a href="#添加抖动元素-块级" class="headerlink" title="添加抖动元素(块级)"></a>添加抖动元素(块级)</h2></li><li>将以下代码添加至主题目录/source/less/_base.less文件下<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.shake</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">transition</span>: all <span class="number">0.3s</span> ease;</span><br><span class="line">&#125;</span><br><span class="line">@-<span class="keyword">webkit</span>-<span class="keyword">keyframes</span> spaceboots &#123;</span><br><span class="line">  0% &#123; <span class="attribute">-webkit-transform</span>: <span class="built_in">translate</span>(2px, 1px) <span class="built_in">rotate</span>(0deg); &#125;</span><br><span class="line">  10% &#123; <span class="attribute">-webkit-transform</span>: <span class="built_in">translate</span>(-1px, -2px) <span class="built_in">rotate</span>(-1deg); &#125;</span><br><span class="line">  20% &#123; <span class="attribute">-webkit-transform</span>: <span class="built_in">translate</span>(-3px, 0px) <span class="built_in">rotate</span>(1deg); &#125;</span><br><span class="line">  30% &#123; <span class="attribute">-webkit-transform</span>: <span class="built_in">translate</span>(0px, 2px) <span class="built_in">rotate</span>(0deg); &#125;</span><br><span class="line">  40% &#123; <span class="attribute">-webkit-transform</span>: <span class="built_in">translate</span>(1px, -1px) <span class="built_in">rotate</span>(1deg); &#125;</span><br><span class="line">  50% &#123; <span class="attribute">-webkit-transform</span>: <span class="built_in">translate</span>(-1px, 2px) <span class="built_in">rotate</span>(-1deg); &#125;</span><br><span class="line">  60% &#123; <span class="attribute">-webkit-transform</span>: <span class="built_in">translate</span>(-3px, 1px) <span class="built_in">rotate</span>(0deg); &#125;</span><br><span class="line">  70% &#123; <span class="attribute">-webkit-transform</span>: <span class="built_in">translate</span>(2px, 1px) <span class="built_in">rotate</span>(-1deg); &#125;</span><br><span class="line">  80% &#123; <span class="attribute">-webkit-transform</span>: <span class="built_in">translate</span>(-1px, -1px) <span class="built_in">rotate</span>(1deg); &#125;</span><br><span class="line">  90% &#123; <span class="attribute">-webkit-transform</span>: <span class="built_in">translate</span>(2px, 2px) <span class="built_in">rotate</span>(0deg); &#125;</span><br><span class="line">  100% &#123; <span class="attribute">-webkit-transform</span>: <span class="built_in">translate</span>(1px, -2px) <span class="built_in">rotate</span>(-1deg); &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.shake</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-class">.shake</span><span class="selector-pseudo">:focus</span> &#123;</span><br><span class="line">  <span class="attribute">-webkit-animation-name</span>: spaceboots;</span><br><span class="line">  <span class="attribute">-webkit-animation-duration</span>: <span class="number">0.8s</span>;</span><br><span class="line">  <span class="attribute">-webkit-transform-origin</span>:<span class="number">50%</span> <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">-webkit-animation-iteration-count</span>: infinite;</span><br><span class="line">  <span class="attribute">-webkit-animation-timing-function</span>: linear;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>使用方法<br>在标签元素class类中添加shake<h2 id="添加血小板"><a href="#添加血小板" class="headerlink" title="添加血小板"></a>添加血小板</h2></li><li>live2d资源目录添加至主图目录/source下</li><li>在主题目录/layout/_partial/head.ejs文件中引入live2dcss文件<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 血小板--&gt;</span><br><span class="line">&lt;link rel=<span class="string">"stylesheet"</span> href=<span class="string">"/live2d/css/live2d.css"</span> /&gt;</span><br></pre></td></tr></table></figure></li><li>在主题目录/layout/_partial/footer.ejs文件中添加以下代码<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 血小板 --&gt;</span><br><span class="line">&lt;div id=<span class="string">"landlord"</span>&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"message"</span> style=<span class="string">"opacity:0"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  &lt;canvas id=<span class="string">"live2d"</span> width=<span class="string">"560"</span> height=<span class="string">"500"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"live2d"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span></span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"hide-button"</span>&gt;隐藏&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>div&gt;</span><br><span class="line">&lt;!-- 血小板--&gt;</span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">  <span class="keyword">var</span> message_Path = <span class="string">'/live2d/'</span></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;script type="text/</span>javascript<span class="string">" src="</span>/live2d/js/live2d.js<span class="string">"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;script type="</span>text/javascript<span class="string">" src="</span>/live2d/js/message.js<span class="string">"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;script type="</span>text/javascript<span class="string">"&gt;</span></span><br><span class="line"><span class="string">  loadlive2d("</span>live2d<span class="string">", "</span>/live2d/model/xiaoban/model.json<span class="string">");</span></span><br><span class="line"><span class="string">&lt;/script&gt;</span></span><br></pre></td></tr></table></figure></li><li>为了移动端更好的阅读效果，请将以下代码添加至主题目录/source/less/_footer.less文件下<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">media</span> (max-width: @on_phone) &#123;</span><br><span class="line">  <span class="selector-id">#footer</span>&#123;</span><br><span class="line">      <span class="attribute">background-color</span>:transparent;</span><br><span class="line">      <span class="attribute">padding-bottom</span>: <span class="number">180px</span> ;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-id">#landlord</span>&#123;</span><br><span class="line">      <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">      <span class="attribute">height</span>: <span class="number">170px</span>;</span><br><span class="line">      .message&#123;</span><br><span class="line">        <span class="selector-tag">width</span>: 200<span class="selector-tag">px</span>;</span><br><span class="line">        <span class="selector-tag">left</span>: 80<span class="selector-tag">px</span>;</span><br><span class="line">        <span class="selector-tag">top</span>: 15<span class="selector-tag">px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-id">#live2d</span>&#123;</span><br><span class="line">      <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">      <span class="attribute">height</span>: <span class="number">170px</span>;</span><br><span class="line">      <span class="attribute">bottom</span>: -<span class="number">80px</span>;</span><br><span class="line">      <span class="attribute">left</span>: <span class="number">43px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h2 id="添加页面点击小心心特效-文本输入特效、运行时间"><a href="#添加页面点击小心心特效-文本输入特效、运行时间" class="headerlink" title="添加页面点击小心心特效,文本输入特效、运行时间"></a>添加页面点击小心心特效,文本输入特效、运行时间</h2><ol><li>将’https:/jiaobantang.github.io/cool/clicklove.js’另存在主题目录/source/下</li><li>将’https:/jiaobantang.github.io/cool/cooltext.js’另存在主题目录/source/下</li><li>将’https:/jiaobantang.github.io/cool/sitetime.js’另存在主题目录/source/下</li><li>修改sitetime.js参数</li><li>在主题目录/layout/_partial/footer.ejs文件中引入<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 点击特效，输入特效 运行时间 --&gt;</span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span> src=<span class="string">"/cool/cooltext.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span> src=<span class="string">"/cool/clicklove.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span> src=<span class="string">"/cool/sitetime.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure></li><li>在主题目录/layout/_partial/footer.ejs文件中上方添加<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"sitetime"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> Coding </category>
          
          <category> Web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Cool </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHPer-浅层次的代码优化</title>
      <link href="/2019/04/02/php-coding3/"/>
      <url>/2019/04/02/php-coding3/</url>
      
        <content type="html"><![CDATA[<a id="more"></a><h2 id="说在前面"><a href="#说在前面" class="headerlink" title="说在前面"></a>说在前面</h2><p>代码优化是一个持续不断的过程，养成一个好的编码习惯，善用一些PHP的语法糖，让我们的代码看起来更好维护更不容易出错，这本身就是一种优化。还有一种就是对代码的可读性再做一次优化，让代码更好维护。</p><h2 id="if的使用技巧"><a href="#if的使用技巧" class="headerlink" title="if的使用技巧"></a>if的使用技巧</h2><h3 id="if的使用技巧之-“给定初始值”"><a href="#if的使用技巧之-“给定初始值”" class="headerlink" title="if的使用技巧之 “给定初始值”"></a>if的使用技巧之 “给定初始值”</h3><p>来看一段代码</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="number">1</span> == $orderState)&#123;</span><br><span class="line">    $orderTitle = <span class="string">"已预定"</span>;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    $orderTitle = <span class="string">"已售出"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> $orderTitle;</span><br></pre></td></tr></table></figure><p>给定初始值之后，我们可以写成这样，少了一层else</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$orderTitle = <span class="string">'已售出'</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="number">1</span> == $orderState)&#123;</span><br><span class="line">    $orderTitle = <span class="string">'已预定'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> $orderTitle;</span><br></pre></td></tr></table></figure><h3 id="if的使用技巧之-“用-amp-amp-替换-if”"><a href="#if的使用技巧之-“用-amp-amp-替换-if”" class="headerlink" title="if的使用技巧之 “用 &amp;&amp; 替换 if”"></a>if的使用技巧之 “用 &amp;&amp; 替换 if”</h3> <figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">if</span>(!<span class="keyword">isset</span>($newpwd[<span class="number">6</span>]))&#123;</span><br><span class="line">    $message = <span class="string">'密码长度不足'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> 可以替换成<br> <figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!<span class="keyword">isset</span>($newpwd[<span class="number">6</span>]) &amp;&amp; $message = <span class="string">'密码长度不足'</span>;</span><br></pre></td></tr></table></figure></p><h3 id="if的使用技巧之“三元运算符替换if”"><a href="#if的使用技巧之“三元运算符替换if”" class="headerlink" title="if的使用技巧之“三元运算符替换if”"></a>if的使用技巧之“三元运算符替换if”</h3> <figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="keyword">empty</span>($_post[<span class="string">'action'</span>]))&#123;</span><br><span class="line">    $action = <span class="string">'default'</span>;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    $action = $_POST[<span class="string">'action'</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>也可以替换成</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$action = (<span class="keyword">empty</span>($_post[<span class="string">'action'</span>]))? <span class="string">'default'</span> : $_post[<span class="string">'action'</span>];</span><br></pre></td></tr></table></figure><p>也可以把三元运算符简写成</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$action = $_post[<span class="string">'action'</span>]?:<span class="string">'default'</span>;</span><br></pre></td></tr></table></figure><h3 id="if的使用技巧之-“去掉多此一举的if”"><a href="#if的使用技巧之-“去掉多此一举的if”" class="headerlink" title="if的使用技巧之 “去掉多此一举的if”"></a>if的使用技巧之 “去掉多此一举的if”</h3><p>这个函数是判断一个年份是否是闰年，如果是返回ture否则返回false</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isLeapYear</span><span class="params">($year)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(($year % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; $year % <span class="number">100</span> != <span class="number">0</span>) || ($year % <span class="number">400</span> == <span class="number">0</span>))&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>类似于这种判断一个条件是否为真，为真返回ture为假返回false的时候，我们可以直接返回这个条件就可以了</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isLeapYear</span><span class="params">($year)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> ($year % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; $year % <span class="number">100</span> != <span class="number">0</span>) || ($year % <span class="number">400</span> == <span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="改进“else-if”"><a href="#改进“else-if”" class="headerlink" title="改进“else if”"></a>改进“else if”</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="string">'你'</span>==$sortname)&#123;</span><br><span class="line">    $sortid = <span class="number">1</span>;</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">'还'</span>==$sortname)&#123;</span><br><span class="line">    $sortid = <span class="number">2</span>;</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">'好'</span>==$sortname)&#123;</span><br><span class="line">    $sortid = <span class="number">3</span>;</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">'吗'</span>==$sortname)&#123;</span><br><span class="line">    $sortid = <span class="number">4</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>可以用switch来改造多层的判断</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>($sortname)&#123;</span><br><span class="line">    <span class="keyword">case</span><span class="string">'你'</span>:</span><br><span class="line">        $sortid = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span><span class="string">'还'</span>:</span><br><span class="line">        $sortid = <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span><span class="string">'好'</span>:</span><br><span class="line">        $sortid = <span class="number">3</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span><span class="string">'吗'</span>:</span><br><span class="line">        $sortid = <span class="number">4</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="表驱动法替代“else-if”"><a href="#表驱动法替代“else-if”" class="headerlink" title="表驱动法替代“else if”"></a>表驱动法替代“else if”</h3><p>上面那个例子用switch似乎让代码变多了，但看起来更简洁了，如果你还不爽，那下面。。。<br>在PHP里面数组可以理解为一个hash表</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$sortTable = [</span><br><span class="line">    <span class="string">'你'</span>=&gt;<span class="number">1</span>,</span><br><span class="line">    <span class="string">'还'</span>=&gt;<span class="number">2</span>,</span><br><span class="line">    <span class="string">'好'</span>=&gt;<span class="number">3</span>,</span><br><span class="line">    <span class="string">'吗'</span>=&gt;<span class="number">4</span></span><br><span class="line">];</span><br><span class="line">$sortid = $sorTable[$sortname];</span><br></pre></td></tr></table></figure><h2 id="循环语句的几个要点"><a href="#循环语句的几个要点" class="headerlink" title="循环语句的几个要点"></a>循环语句的几个要点</h2><blockquote><p>要写无限循环时，用while(true)表示无限循环，别用for。<br>特定情况下(发邮件、采集网页)要加延时(sleep)<br>循环体内尽可能不用函数或更消耗资源的调用<br>foreach代替while和for循环(PHP)<br>避免空循环<br>只做一件事，尽可能短，控制在50行以内<br>循环嵌套限制在3曾以内</p></blockquote><h3 id="使用更精悍短小的代码"><a href="#使用更精悍短小的代码" class="headerlink" title="使用更精悍短小的代码"></a>使用更精悍短小的代码</h3><blockquote><p>函数的最佳最大长度时50-150行代码<br>函数参不超过7个<br>短小函数更容易理解也方便修改<br>只做一件事情的函数更易于复用<br>短小的函数测试更方便</p></blockquote><h2 id="中间结果赋值给变量"><a href="#中间结果赋值给变量" class="headerlink" title="中间结果赋值给变量"></a>中间结果赋值给变量</h2><p>$str = ‘this_is_a_test’;<br>$humpstr = implode(‘’,array_map(‘ucfirst’,explode(‘_’,$str)));<br>你觉得这样写好不好呢？我以为这样很cool，一行就搞定，实际上这样写并不好，乍一看不好理解，另外还不好调试。那怎么改造这种代码呢？把中间结果赋值给变量</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$str = <span class="string">'this_is_a_test'</span>;</span><br><span class="line">$words = explode(<span class="string">'_'</span>,$str);</span><br><span class="line">$uWords = array_map(<span class="string">'ucfirst'</span>,$words);</span><br><span class="line">$humpstr = implode(<span class="string">''</span>,$uWords);</span><br></pre></td></tr></table></figure><h2 id="复杂的逻辑表达式做成布尔函数"><a href="#复杂的逻辑表达式做成布尔函数" class="headerlink" title="复杂的逻辑表达式做成布尔函数"></a>复杂的逻辑表达式做成布尔函数</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(!$hasone &amp;&amp; <span class="number">1</span>==$ddisfirst &amp;&amp; <span class="string">''</span>==$litpic &amp;&amp;<span class="keyword">empty</span>($litpicname))&#123;</span><br><span class="line">    $litpicname = GetImageMapDD($iurl,$cfg_ddimg_width);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>你像这样四个条件并在一起满足的条件下才会执行下面的代码，是不是会很难理解，所以复杂的逻辑表达式做成布尔函数，就是把它给切开</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$emptyPic = ( <span class="string">''</span>==$litpic &amp;&amp;<span class="keyword">empty</span>($litpicname);</span><br><span class="line">$validFirstPic = (!$hasone &amp;&amp; <span class="number">1</span>==$ddisfirst &amp;&amp; <span class="string">''</span>);</span><br><span class="line"><span class="keyword">if</span>($emptyPic &amp;&amp; $validFirstPic)&#123;</span><br><span class="line">    $litpicname = GetImageMapDD($iurl,$cfg_ddimg_width);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="永远不要复制粘贴雷同的代码"><a href="#永远不要复制粘贴雷同的代码" class="headerlink" title="永远不要复制粘贴雷同的代码"></a>永远不要复制粘贴雷同的代码</h2><blockquote><p>相同的代码放在一起让以后修改更轻松<br>可以让全局的统计和过滤器等实现方便<br>可复用的带参函数是解决雷同代码的好方法</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Coding </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Coding </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHPer-语法糖</title>
      <link href="/2019/04/02/php-coding2/"/>
      <url>/2019/04/02/php-coding2/</url>
      
        <content type="html"><![CDATA[<p><img src="http://cdn.treelo.xin/006Fzy5igy1g1oijs4k7nj30jy095tce.jpg" alt=""></p><a id="more"></a><p>PHP语法糖就是PHP一些小的语法技巧<br>计算机语言中添加的某种语法，这种语法对语言的功能并没有影响，但是方便程序员使用</p><h3 id="1、echo-的逗号和点号"><a href="#1、echo-的逗号和点号" class="headerlink" title="1、echo 的逗号和点号"></a>1、echo 的逗号和点号</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$foo = <span class="string">'hello'</span>;</span><br><span class="line">$bar = <span class="string">'world'</span>;</span><br><span class="line"><span class="keyword">echo</span> $foo.$bar;</span><br><span class="line"><span class="keyword">echo</span> $foo,$bar;</span><br></pre></td></tr></table></figure><h3 id="2、逗号优于点号"><a href="#2、逗号优于点号" class="headerlink" title="2、逗号优于点号"></a>2、逗号优于点号</h3><p>echo是PHP的语言结构，用逗号是依次输出变量，点号连接操作会占用内存…</p><h3 id="3、用-i-1代替-i-i-1、-i-、-i"><a href="#3、用-i-1代替-i-i-1、-i-、-i" class="headerlink" title="3、用$i+=1代替$i=$i+1、$i++、++$i"></a>3、用$i+=1代替$i=$i+1、$i++、++$i</h3><p>额…你就知道效率高就行了</p><h3 id="4、用isset代替strlen"><a href="#4、用isset代替strlen" class="headerlink" title="4、用isset代替strlen"></a>4、用isset代替strlen</h3><p>PHP语言里有一些东西看起来像函数，实际上是语言结构，语言结构要比普通函数的优先级高，也会更快，PHP常见的语言结构有：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">echo</span>()</span><br><span class="line"><span class="keyword">print</span>()</span><br><span class="line"><span class="keyword">die</span>()</span><br><span class="line"><span class="keyword">isset</span>()</span><br><span class="line"><span class="keyword">unset</span>()</span><br><span class="line"><span class="keyword">include</span>(),<span class="keyword">include_once</span>()</span><br><span class="line"><span class="keyword">require</span>(),<span class="keyword">require_once</span>()</span><br><span class="line"><span class="keyword">array</span>()</span><br><span class="line"><span class="keyword">list</span>()</span><br><span class="line"><span class="keyword">empty</span>()</span><br><span class="line">evel()</span><br></pre></td></tr></table></figure><p>所以说能用到这些语言结构时，就尽量不要用函数<br>如：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$subject = <span class="string">'jiaobantang'</span>;</span><br><span class="line"><span class="keyword">if</span>(strlen($subject)&lt;=<span class="number">8</span>) <span class="keyword">echo</span> <span class="string">'哈哈'</span>;</span><br><span class="line"><span class="comment">//换成</span></span><br><span class="line"><span class="keyword">if</span>(！<span class="keyword">isset</span>($subject)[<span class="number">8</span>] <span class="keyword">echo</span> <span class="string">'哈哈'</span>;</span><br></pre></td></tr></table></figure><h3 id="5、用strtr代替str-replace"><a href="#5、用strtr代替str-replace" class="headerlink" title="5、用strtr代替str_replace"></a>5、用strtr代替str_replace</h3><p><img src="http://cdn.treelo.xin/006Fzy5igy1g1oimndi67j30xh04bmzc.jpg" alt=""></p><h3 id="6、PHP用yield实现协程"><a href="#6、PHP用yield实现协程" class="headerlink" title="6、PHP用yield实现协程"></a>6、PHP用yield实现协程</h3><p>yield会保存当前程序运行的状态<br>我们写一个函数xrange()函数提供和PHP的内置函数range()一样的功能<br>*/<br>//循环输出一个0到10000的数组,这个大数组实在内存中被真实构建的</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">foreach</span>(range(<span class="number">0</span>,<span class="number">10000</span>) <span class="keyword">as</span> $number)&#123;</span><br><span class="line">    <span class="keyword">echo</span> $number;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//但如果我想节省内存，每次在这个基础上加1就行了，这个时候我们就可以用协程来实现</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">xrange</span><span class="params">($start,$end,$step = <span class="number">1</span>)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>($i = $start;$i &lt;= $end; $i += $step)&#123;</span><br><span class="line">        <span class="keyword">yield</span> $i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">foreach</span> (xrange(<span class="number">1</span>,<span class="number">10000</span>) <span class="keyword">as</span> $num)&#123;</span><br><span class="line">    <span class="keyword">echo</span> $num,<span class="string">"\n"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="7、用“-”定义数组"><a href="#7、用“-”定义数组" class="headerlink" title="7、用“[]”定义数组"></a>7、用“[]”定义数组</h3><h3 id="8、用-进行幂运算"><a href="#8、用-进行幂运算" class="headerlink" title="8、用**进行幂运算"></a>8、用**进行幂运算</h3><h3 id="9、用“…”定义变长参数数组"><a href="#9、用“…”定义变长参数数组" class="headerlink" title="9、用“…”定义变长参数数组"></a>9、用“…”定义变长参数数组</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#变长参数 不依赖 func_get_args()</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addAll</span><span class="params">(...$nums)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> array_sum($nums);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">echo</span> addAll(<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>)</span><br></pre></td></tr></table></figure><h3 id="10、函数赋值默认参数：-运算符"><a href="#10、函数赋值默认参数：-运算符" class="headerlink" title="10、函数赋值默认参数：+运算符"></a>10、函数赋值默认参数：+运算符</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 本用法特别适用于给函数赋值默认参数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getDivHtml</span><span class="params">($params)</span></span>&#123;</span><br><span class="line">    $params += [</span><br><span class="line">         <span class="string">'height'</span>=&gt;<span class="string">'200px'</span></span><br><span class="line">    ]</span><br><span class="line">    print_r($params);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>11、??运算符</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#三元运算符</span></span><br><span class="line">$userName = <span class="keyword">isset</span>($_GET[<span class="string">'username'</span>]) ? $_GET[<span class="string">'username'</span>] : <span class="string">'nobody'</span>;</span><br><span class="line"><span class="comment">#这种情况下可以简写成</span></span><br><span class="line">$userName =$_GET[<span class="string">'username'</span>] ?? <span class="string">'nobody'</span>;</span><br><span class="line"><span class="number">12</span>、比较运算符</span><br><span class="line">$num1 = $num2&lt;=&gt;$num3;</span><br><span class="line"><span class="comment">#如果$num2&gt;$num3,$num1 = 1</span></span><br><span class="line"><span class="comment">#如果$num2==$num3,$num1 = 0</span></span><br><span class="line"><span class="comment">#如果$num2&lt;$num3,$num1 = -1</span></span><br></pre></td></tr></table></figure><p>13、神奇的eval<br>eval() 可以动态的执行任何PHP代码<br>…</p>]]></content>
      
      
      <categories>
          
          <category> Coding </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Coding </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHPer-我所认可的PSR规范</title>
      <link href="/2019/04/02/php-coding/"/>
      <url>/2019/04/02/php-coding/</url>
      
        <content type="html"><![CDATA[<a id="more"></a><h2 id="PSR-1-基础编码规范"><a href="#PSR-1-基础编码规范" class="headerlink" title="PSR-1 基础编码规范"></a>PSR-1 基础编码规范</h2><h3 id="概括"><a href="#概括" class="headerlink" title="概括"></a>概括</h3><ul><li>PHP 代码文件<strong>必须</strong> 以 <code>&lt;?php</code> 长标签 或 <code>&lt;?=</code> 短输出标签；</li><li>PHP 代码文件 <strong>必须</strong> 以 不带 <code>BOM 的 UTF-8</code> 编码；</li><li>命名空间以及类 <strong>必须</strong> 符合 PSR 的自动加载规范<br>  这意味着每个类都独立为一个文件，并且至少在一个层次的命名空间内<br>  类的命名 <strong>必须</strong> 遵循<code>StudlyCaps</code> 大写开头的驼峰命名规范；</li><li>类中的常量所有字母都 <strong>必须</strong> 大写，单词间用下划线分隔；<br>类的属性命名 可以 遵循：<ol><li>大写开头的驼峰式 ($StudlyCaps)</li><li>小写开头的驼峰式 ($camelCase)</li><li>下划线分隔式 ($under_score)</li></ol></li><li>方法名称 <strong>必须</strong> 符合 camelCase 式的小写开头驼峰命名规范。<h3 id="PSR-2-编码风格规范"><a href="#PSR-2-编码风格规范" class="headerlink" title="PSR-2 编码风格规范"></a>PSR-2 编码风格规范</h3></li><li>每行的字符数 <strong>应该</strong> 软性保持在 80~120 之间</li><li>每个<code>namespace</code>命名空间声明语句和<code>use</code>声明语句块后面，<strong>必须</strong>插入一个空白行。</li><li>类的开始花括号（{） 必须 写在类声明后自成一行，结束花括号（}）也 必须 写在类主体后自成一行。</li><li>方法的开始花括号（{） 必须 写在函数声明后自成一行，结束花括号（}）也 必须 写在函数主体后自成一行。</li><li>类的属性和方法 必须 添加访问修饰符（<code>private</code>、<code>protected</code> 以及 <code>public</code>），<code>abstract</code> 以及 <code>final</code> 必须 声明在访问修饰符之前，而 <code>static</code> 必须 声明在访问修饰符之后。</li><li>控制结构的关键字后 必须 要有一个空格符，而调用方法或函数时则不要有空格。</li><li>控制结构的开始花括号（{） 必须 写在声明的同一行，而结束花括号（}） 必须 写在主体后自成一行。</li><li>控制结构的开始左括号后和结束右括号前，都 一定不可 有空格符。</li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Vendor</span>\<span class="title">Package</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">FooInterface</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">BarClass</span> <span class="title">as</span> <span class="title">Bar</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">OtherVendor</span>\<span class="title">OtherPackage</span>\<span class="title">BazClass</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> <span class="keyword">extends</span> <span class="title">Bar</span> <span class="keyword">implements</span> <span class="title">FooInterface</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sampleMethod</span><span class="params">($a, $b = null)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> ($a === $b) &#123;</span><br><span class="line">            bar();</span><br><span class="line">        &#125; <span class="keyword">elseif</span> ($a &gt; $b) &#123;</span><br><span class="line">            $foo-&gt;bar($arg1);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            BazClass::bar($arg2, $arg3);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// try 主体</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (FirstExceptionType $e) &#123;</span><br><span class="line">            <span class="comment">// catch 主体</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (OtherExceptionType $e) &#123;</span><br><span class="line">            <span class="comment">// catch 主体</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">bar</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">// 方法体</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Coding </category>
          
          <category> PSR </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Coding </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>把可爱的看板娘捕捉到自己的hexo博客之血小板 (*^▽^*)</title>
      <link href="/2018/11/22/xuexiaoban/"/>
      <url>/2018/11/22/xuexiaoban/</url>
      
        <content type="html"><![CDATA[<p><img src="https://picgd.com/images/2018/11/22/hYrLg.gif" alt="hYrLg.gif"></p><p>*<em>瞧见血小板就莫名的开心( ＾∀＾） *</em></p><p>自娱的博客肯定也要让她来守护着。。。</p><a id="more"></a><h3 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h3><p>首先你要去我的<a href="https://github.com/JIAOBANTANG/live2d-xuexiaoban.git" target="_blank" rel="noopener">Github</a>下载LIve2D代码，当然血小板的模型也包含在内。</p><h3 id="正式开工"><a href="#正式开工" class="headerlink" title="正式开工"></a>正式开工</h3><p>接着解压复制live2d文件夹到你的hexo主题source目录下，拿我的material-x来说：如下图</p><p><img src="https://picgd.com/images/2018/11/22/hYGzE.png" alt=""></p><p>然后在你博客程序头部文件（header）引入界面样式，在 head 标签内插入如下代码，目录为：Hexo\themes\material-x\layout_partial\head.ejs(还是拿我的博客主题举例)</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"/live2d/css/live2d.css"</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>接着在 body 标签内合适的位置插入 Live2D 看板娘的元素，按照 Html 书写规范写 ~我放在了博客footer文件里,目录：Hexo\themes\material-x\layout_partial\footer.ejs</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 血小板 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"landlord"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"message"</span> <span class="attr">style</span>=<span class="string">"opacity:0"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"live2d"</span> <span class="attr">width</span>=<span class="string">"560"</span> <span class="attr">height</span>=<span class="string">"500"</span> <span class="attr">class</span>=<span class="string">"live2d"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"hide-button"</span>&gt;</span>隐藏<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>同样在你博客程序页脚文件（footer）引入脚本，目录：Hexo\themes\material-x\layout_partial\footer.ejs</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- live2d 血小板 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcss.com/jquery/2.2.4/jquery.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> message_Path = <span class="string">'/live2d/'</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> home_Path = <span class="string">'https://haremu.com/'</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/live2d/js/live2d.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/live2d/js/message.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">    loadlive2d(<span class="string">"live2d"</span>, <span class="string">"/live2d/model/xiaoban/model.json"</span>);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>然后输入以下指令</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure><h3 id="大功告成"><a href="#大功告成" class="headerlink" title="大功告成"></a>大功告成</h3><p>这时如果打开浏览器如果有血小板那就配置成功了，然后<code>hexo d</code>推到服务器上。打开你的博客就会出现可爱的血小板…</p><p><img src="https://picgd.com/images/2018/11/22/hYcBV.png" alt="hYcBV.png"></p><p>按着步骤来，怎么可能会出错!</p><p>鼠标放在页面某个元素上时，需要 Live2D 看板娘提示的请修改 message.json 文件。</p><p>示例：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"mouseover"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">"selector"</span>: <span class="string">".title a"</span>,</span><br><span class="line">            <span class="string">"text"</span>: [<span class="string">"要看看 &#123;text&#125; 么？"</span>]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">"selector"</span>: <span class="string">".searchbox"</span>,</span><br><span class="line">            <span class="string">"text"</span>: [<span class="string">"在找什么东西呢，需要帮忙吗？"</span>]</span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="string">"click"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">"selector"</span>: <span class="string">"#landlord #live2d"</span>,</span><br><span class="line">            <span class="string">"text"</span>: [<span class="string">"不要动手动脚的！快把手拿开~~"</span>, <span class="string">"真…真的是不知羞耻！"</span>,<span class="string">"Hentai！"</span>, <span class="string">"再摸的话我可要报警了！⌇●﹏●⌇"</span>, <span class="string">"110吗，这里有个变态一直在摸我(ó﹏ò｡)"</span>]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>其他的自己研究去，反正我的血小板也是郁郁寡欢的，和我一样…</p><h3 id="2019-2-21"><a href="#2019-2-21" class="headerlink" title="2019/2/21"></a>2019/2/21</h3><p><strong>解决模糊问题</strong><br>当页面为手机时，适配效果<br>在主题文件夹下找到_footer.less文件,添加以下样式</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">@<span class="keyword">media</span> (max-width: @on_phone) &#123;</span><br><span class="line">  <span class="selector-id">#footer</span>&#123;</span><br><span class="line">      <span class="attribute">background-color</span>:transparent;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-id">#landlord</span>&#123;</span><br><span class="line">      <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">      <span class="attribute">height</span>: <span class="number">170px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-id">#live2d</span>&#123;</span><br><span class="line">      <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">      <span class="attribute">height</span>: <span class="number">170px</span>;</span><br><span class="line">      <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.message</span>&#123;</span><br><span class="line">      <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">      <span class="attribute">left</span>: <span class="number">0px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-id">#footer</span> &#123;</span><br><span class="line">    <span class="attribute">padding-bottom</span>: <span class="number">180px</span> ;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 血小板 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> live2D </tag>
            
            <tag> 血小板 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>想给博主说点什么？</title>
      <link href="/2018/11/11/message/"/>
      <url>/2018/11/11/message/</url>
      
        <content type="html"><![CDATA[<h3 id="请在评论区写下想对我说的话"><a href="#请在评论区写下想对我说的话" class="headerlink" title="请在评论区写下想对我说的话"></a>请在评论区写下想对我说的话</h3>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
